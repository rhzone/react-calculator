(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,r){},16:function(e,t,r){},17:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(8),i=r.n(s),o=r(2),c=r(3),p=r(5),u=r(4),l=r(6),h=r(1),f=(r(15),r(16),["AC","(",")","\xf7","7","8","9","x","4","5","6","-","1","2","3","+","Del","0",".","="]);function k(e){return a.a.createElement("button",{className:"keyboard-item",type:"button",onClick:e.onClick},e.value)}var m=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=f.map(function(t,r){return a.a.createElement(k,{key:t,value:t,onClick:function(){return e.props.onClick(r)}})});return a.a.createElement("div",{className:"keyboard"},t)}}]),t}(n.Component);function b(e){var t=e.replace(/\s/g,"").split(""),r=t.slice().pop();return!["+","-","x","\xf7"].includes(r)&&"("!==r&&function(e){var t=[],r=0;e.forEach(function(e,n){"("===e?(r++,t.push(n)):")"===e&&(r--,t.pop()===n-1&&r--)});for(var n=1;n<e.length-1;n++){var a=v(e[n-1]),s=v(e[n+1]);if("("===e[n]){if(!a.isOperator&&!a.isBracket||!s.isNumber&&!s.isBracket)return!1}else if(")"===e[n]&&(!a.isNumber&&!a.isBracket||!s.isOperator&&!s.isBracket))return!1}return 0===t.length&&0===r}(t)}function d(e){switch(e){case"+":case"-":return 1;case"x":case"\xf7":return 2;default:return 0}}function v(e){var t=["+","-","x","\xf7"].includes(e.replace(/\s/g,"")),r="("===e,n=")"===e,a="."===e;return{isOperator:t,isBracket:r||n,isLeftBracket:r,isRightBracket:n,isNumber:E(e),isDot:a}}function E(e){return Number.isInteger(parseInt(e))}var y=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(p.a)(this,Object(u.a)(t).call(this,e))).state={expression:["0"]},r.handleClick=r.handleClick.bind(Object(h.a)(Object(h.a)(r))),r}return Object(l.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){var t=this.state.expression,r=f[e],n=null,a=v(r),s=a.isOperator,i=a.isDot,o=a.isNumber,c=a.isBracket,p=t.slice().pop();if("AC"===r)t=["0"];else if("="===r)if(b(t.join("")))try{n=function(e){var t,r=[];return e.forEach(function(e){if("number"===typeof e)r.push(e);else{switch(e.replace(/\s/g,"")){case"-":t=-r.pop()+r.pop();break;case"x":t=r.pop()*r.pop();break;case"\xf7":if(0===r.slice().pop())throw Error("0 \u4e0d\u80fd\u4f5c\u4e3a\u88ab\u9664\u6570");t=1/r.pop()*r.pop();break;default:t=r.pop()+r.pop()}r.push(t)}}),r.pop()}(function(e){if(!Array.isArray(e))throw Error("Parameter of function toPostFixExpr must be an array or a string");var t,r=[],n=[];return e.forEach(function(e){var a,s=v(e),i=s.isOperator,o=s.isLeftBracket,c=s.isRightBracket;if(s.isNumber)r.push(parseFloat(e));else if(i){for(var p=0;p<n.length;p++)if(t=n.slice().pop(),a=e,d(t.replace(/\s/g,""))-d(a.replace(/\s/g,""))>=0&&"("!==t)r.push(n.pop());else if("("===t)break;n.push(e)}else o?n.push(e):c&&n.slice().forEach(function(){"("!==(t=n.slice().pop())?r.push(n.pop()):"("===t&&n.pop()})}),n.slice().forEach(function(){r.push(n.pop())}),r}(t))}catch(u){n="Syntax Error"}else n="Syntax Error";else"Del"===r?("0"===t[0]||E(p)?"0"!==t[0]&&E(p)&&(t.pop(),""!==p.slice(0,-1)&&t.push(p.slice(0,-1))):t.pop(),0===t.length&&t.push("0")):"0"===t[0]&&1===t.length&&(o||c)?t[0]=r:s?(r=" "+r+" ",this.state.isOperator&&t.pop(),t.push(r)):o?E(p)?t.push(t.pop()+r):t.push(r):i?E(p)&&!p.includes(".")?t.push(t.pop()+r):p.includes(".")||t.push("0."):t.push(r);this.setState({expression:t,isOperator:s,result:n})}},{key:"render",value:function(){var e=this.state.expression,t=this.state.result;return"number"===typeof t&&(t="= "+t),a.a.createElement("div",{className:"calculator"},a.a.createElement("div",{className:"screen-display"},a.a.createElement("span",null,e.join("")),a.a.createElement("span",null,t)),a.a.createElement(m,{onClick:this.handleClick}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,r){e.exports=r(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.7f9f8be6.chunk.js.map